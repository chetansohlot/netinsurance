{% extends 'master.html' %}

{% block title %}
    Dashboard
{% endblock %}
{% load custom_filters %}


<body class="hold-transition sidebar-mini">
{% load static %}

    {% block content %}  
    <div class="wrapper">
        {% include 'navbar.html' %}

  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
   {% include "sidebar.html" %}

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <!-- <div class="content-header dashboard-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="dashboard-title m-0">Dashboard</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Dashboard</li>
            </ol>
          </div>
        </div>
      </div>
    </div> -->
    <!-- /.content-header -->

    <!-- Main content -->
    <div class="content">
      <div class="container-fluid">
        <!-- <div class="row pt-4">
          <div class="col-xs-6 col-sm-4 col-md-4">
            <a href="#">
              <div class="card counter-img-card counter-active-card ">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <p class="card-text text-dark">
                        Total Policies Sold
                      </p>
                      <h5 class="card-title card-number">325</h5>
                    </div>
                  </div>
                </div>
              </div>
            </a>  
          </div>  
          <div class="col-xs-6 col-sm-4 col-md-4">
            <a href="#">
              <div class="card counter-img-card counter-deactive-card ">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <p class="card-text text-dark">
                        Total Revenue
                      </p>
                      <h5 class="card-title card-number"> <i class="fa-solid fa-indian-rupee-sign"></i>1430000</h5>
                    </div>
                  </div>
                </div>
              </div>
            </a>  
          </div>  
          <div class="col-xs-6 col-sm-4 col-md-4">
            <a href="#">
              <div class="card counter-img-card counter-pending-card ">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <p class="card-text text-dark">
                        Current Payout
                      </p>
                      <h5 class="card-title card-number"><i class="fa-solid fa-indian-rupee-sign"></i>500000</h5>
                    </div>
                  </div>
                </div>
              </div>
            </a>  
          </div>  
        </div> -->
        <div class="row pr-4">
          <div class="col-12">
            <h1 class="admin-title m-0 py-2">Dashboard</h1>
          </div>
        </div>
        <div class="row">
          
          <div class="col-sm-12 col-md-12 mb-3">
            <div class="card h-100 mb-0">
              <div class="card-body">
                <div class="d-flex justify-content-end align-items-center mb-2">
                  <label class="form-lbl mr-3 pb-0">Filter</label>
                  <select class="form-field w-auto mr-2">
                    <option>Motor</option>
                    <option>Health</option>
                    <option>Term</option>
                  </select>
                  <div class="row">
                    <div class="col-auto">
                        <select name="consolidated_by" class="form-field" id="consolidated_by">
                            <option value="1">Today</option>
                            <option value="2">MTD</option>
                            <option value="3">Custom Date</option>
                        </select>
                    </div>
                    <div class="col-auto" style="display: none;">
                        <select name="consolidated_by_month" class="form-field" id="consolidated_by_month">
                            <option value="1">Jan</option>
                            <option value="2">Feb</option>
                            <option value="3">March</option>
                            <option value="4">Apr</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">Aug</option>
                            <option value="9">Sept</option>
                            <option value="10">Oct</option>
                            <option value="11">Nov</option>
                            <option value="12">Dec</option>
                        </select>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_from_date" class="form-field graph_datepicker" id="consolidated_from_date" placeholder="From Date" autocomplete="off">
                        <span class="error consolidated_from_date_err"></span>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_to_date" class="form-field graph_datepicker" id="consolidated_to_date" placeholder="To Date" autocomplete="off">
                        <span class="error consolidated_to_date_err"></span>
                    </div>
                  </div>
                </div>  
                <div class="row">
                  <div class="col-xs-6 col-sm-4 col-md-4">
                    <a href="#">
                      <div class="card counter-img-card counter-active-card ">
                        <div class="card-body">
                          <div class="row">
                            <div class="col">
                              <p class="card-text text-dark">
                                Total Policies Sold
                              </p>
                              <h5 class="card-title card-number">{{ policy_count }}</h5>
                            </div>
                          </div>
                        </div>
                      </div>
                    </a>  
                  </div>  
                  <div class="col-xs-6 col-sm-4 col-md-4">
                    <a href="#">
                      <div class="card counter-img-card counter-deactive-card ">
                        <div class="card-body">
                          <div class="row">
                            <div class="col">
                              <p class="card-text text-dark">
                                Total Revenue
                              </p>
                              <h5 class="card-title card-number"> <i class="fa-solid fa-indian-rupee-sign"></i>{{ total_revenue|indian_currency }}</h5>
                            </div>
                          </div>
                        </div>
                      </div>
                    </a>  
                  </div>  
                  <!-- <div class="col-xs-6 col-sm-4 col-md-4">
                    <a href="#">
                      <div class="card counter-img-card counter-pending-card ">
                        <div class="card-body">
                          <div class="row">
                            <div class="col">
                              <p class="card-text text-dark">
                                Current Payout
                              </p>
                              <h5 class="card-title card-number"><i class="fa-solid fa-indian-rupee-sign"></i>500000</h5>
                            </div>
                          </div>
                        </div>
                      </div>
                    </a>  
                  </div> -->

                  <div class="col-xs-6 col-sm-4 col-md-4">
                    <a href="#">
                      <div class="card counter-img-card counter-deactive-card ">
                        <div class="card-body">
                          <div class="row">
                            <div class="col">
                              <p class="card-text text-dark">Gross Premium</p>
                              <h5 class="card-title card-number">
                                <i class="fa-solid fa-indian-rupee-sign"></i>{{ total_gross_premium|indian_currency }}
                              </h5>
                            </div>
                          </div>
                        </div>
                      </div>
                    </a>
                  </div>  
                   
                  <div class="col-xs-6 col-sm-4 col-md-4">
                    <a href="#">
                      <div class="card counter-img-card counter-deactive-card">
                        <div class="card-body">
                          <div class="row">
                            <div class="col">
                              <p class="card-text text-dark">Net Premium</p>
                              <h5 class="card-title card-number">
                                <i class="fa-solid fa-indian-rupee-sign"></i>{{ total_net_premium|indian_currency }}
                              </h5>
                            </div>
                          </div>
                        </div>
                      </div>
                    </a>
                  </div>

                </div>
              </div>
            </div>
          </div>
          
          <div class="col-sm-6 col-md-6">  
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="card-hding pb-0">Business Summary- Consolidated</h5>
                  <div class="row">
                    <div class="col-auto">
                        <select name="consolidated_by" class="form-field" id="consolidated_by">
                            <option value="1">Today</option>
                            <option value="2">MTD</option>
                            <option value="3">Custom Date</option>
                        </select>
                    </div>
                    <div class="col-auto" style="display: none;">
                        <select name="consolidated_by_month" class="form-field" id="consolidated_by_month">
                            <option value="1">Jan</option>
                            <option value="2">Feb</option>
                            <option value="3">March</option>
                            <option value="4">Apr</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">Aug</option>
                            <option value="9">Sept</option>
                            <option value="10">Oct</option>
                            <option value="11">Nov</option>
                            <option value="12">Dec</option>
                        </select>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_from_date" class="form-field graph_datepicker" id="consolidated_from_date" placeholder="From Date" autocomplete="off">
                        <span class="error consolidated_from_date_err"></span>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_to_date" class="form-field graph_datepicker" id="consolidated_to_date" placeholder="To Date" autocomplete="off">
                        <span class="error consolidated_to_date_err"></span>
                    </div>
                  </div>
                </div>  
                <hr class="my-2">
                <canvas id="consolidated_bar_chart" style="width:100%; height: 280px;"></canvas>
                
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-md-6">  
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="card-hding pb-0">Business Summary- Insurer</h5>
                  <div class="row">
                    <div class="col-auto">
                        <select name="consolidated_by" class="form-field" id="consolidated_by">
                            <option value="1">Today</option>
                            <option value="2">MTD</option>
                            <option value="3">Custom Date</option>
                        </select>
                    </div>
                    <div class="col-auto" style="display: none;">
                        <select name="consolidated_by_month" class="form-field" id="consolidated_by_month">
                            <option value="1">Jan</option>
                            <option value="2">Feb</option>
                            <option value="3">March</option>
                            <option value="4">Apr</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">Aug</option>
                            <option value="9">Sept</option>
                            <option value="10">Oct</option>
                            <option value="11">Nov</option>
                            <option value="12">Dec</option>
                        </select>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_from_date" class="form-field graph_datepicker" id="consolidated_from_date" placeholder="From Date" autocomplete="off">
                        <span class="error consolidated_from_date_err"></span>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_to_date" class="form-field graph_datepicker" id="consolidated_to_date" placeholder="To Date" autocomplete="off">
                        <span class="error consolidated_to_date_err"></span>
                    </div>
                  </div>
                </div>  
                <hr class="my-2">
                <canvas id="insurer_bar_chart" style="width:100%; height: 280px;"></canvas>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-md-6">  
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="card-hding pb-0">Business Summary- Product Wise</h5>
                  <ul class="nav nav-pills call-detail-tab">
                    <li class="nav-item text-bold"><a class="nav-link active" href="#car" data-toggle="tab">2W/4 Wheeler</a></li>
                    <li class="nav-item text-bold"><a class="nav-link" href="#commercial" data-toggle="tab">Commercial</a></li>
                </ul>
                
                </div>  
                <hr class="my-2">
                <div class="tab-content">
                  <div class="tab-pane active" id="car">
                    <canvas id="product_wise_bar_chart" style="width:100%; height: 280px;"></canvas>
                  </div>  
                  <div class="tab-pane" id="commercial">
                    <canvas id="product_commercial_bar_chart" style="width:100%; height: 280px;"></canvas>
                  </div>  
                </div>
                
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-md-6">  
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="card-hding pb-0">Referal Business Summary</h5>
                  <div class="row">
                    <div class="col-auto">
                        <select name="consolidated_by" class="form-field" id="consolidated_by">
                            <option value="1">Today</option>
                            <option value="2">MTD</option>
                            <option value="3">Custom Date</option>
                        </select>
                    </div>
                    <div class="col-auto" style="display: none;">
                        <select name="consolidated_by_month" class="form-field" id="consolidated_by_month">
                            <option value="1">Jan</option>
                            <option value="2">Feb</option>
                            <option value="3">March</option>
                            <option value="4">Apr</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">Aug</option>
                            <option value="9">Sept</option>
                            <option value="10">Oct</option>
                            <option value="11">Nov</option>
                            <option value="12">Dec</option>
                        </select>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_from_date" class="form-field graph_datepicker" id="consolidated_from_date" placeholder="From Date" autocomplete="off">
                        <span class="error consolidated_from_date_err"></span>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_to_date" class="form-field graph_datepicker" id="consolidated_to_date" placeholder="To Date" autocomplete="off">
                        <span class="error consolidated_to_date_err"></span>
                    </div>
                  </div>
                </div>  
                <hr class="my-2">
                <canvas id="referal_bar_chart" style="width:100%; height: 280px;"></canvas>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-md-6">  
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="card-hding pb-0">Partner Business Summary</h5>
                  <div class="row">
                    <div class="col-auto">
                        <select name="consolidated_by" class="form-field" id="consolidated_by">
                            <option value="1">Today</option>
                            <option value="2">MTD</option>
                            <option value="3">Custom Date</option>
                        </select>
                    </div>
                    <div class="col-auto" style="display: none;">
                        <select name="consolidated_by_month" class="form-field" id="consolidated_by_month">
                            <option value="1">Jan</option>
                            <option value="2">Feb</option>
                            <option value="3">March</option>
                            <option value="4">Apr</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">Aug</option>
                            <option value="9">Sept</option>
                            <option value="10">Oct</option>
                            <option value="11">Nov</option>
                            <option value="12">Dec</option>
                        </select>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_from_date" class="form-field graph_datepicker" id="consolidated_from_date" placeholder="From Date" autocomplete="off">
                        <span class="error consolidated_from_date_err"></span>
                    </div>
                    <div class="col" style="display: none;">
                        <input type="text" name="consolidated_to_date" class="form-field graph_datepicker" id="consolidated_to_date" placeholder="To Date" autocomplete="off">
                        <span class="error consolidated_to_date_err"></span>
                    </div>
                  </div>
                </div>  
                <hr class="my-2">
                <canvas id="partner_bar_chart" style="width:100%; height: 280px;"></canvas>
              </div>
            </div>
          </div>
          <div class="col-sm-12 col-md-12">  
            <div class="card">
              <div class="card-body">
                <h5 class="card-hding">Business Summary Product Wise </h5>
                <div class="table-responsive">
                    <table class="table table-design table-trlink">
                      <thead class="table-thead-bg-light table-header-fix">
                        <tr>
                          <th>Policy Number</th>
                          <th>Total Commission</th>
                          <th>Received Amount</th>
                          <th>Balance Amount</th>
                          <th>Insurer</th>
                          <th>Month</th>
                          <th>Partner Info </th>
                          <th width="50">Action</th>
                        </tr>
                      </thead>
                      <tbody>

                        <tr>
                          <td>ELV00213255</td>
                          <td>5000</td>
                          <td>4000</td>
                          <td>1000</td>
                          <td>Godigit</td>
                          <td>February</td>
                          <td>Vinod Kumar <span class="text-gray">(012456)</span></td>
                          <td>
                            <div class="dropdown">
                              <img src="dist/img/svg/menu-dot-vr.svg" alt="" class="table-doticon" data-toggle="dropdown" aria-expanded="false">
                              <ul class="dropdown-menu table-dropdown-menu">
                                <li><a class="dropdown-item" href="#"><i class="fa-solid fa-eye"></i> View</a></li>
                                <li><a class="dropdown-item" href="#"><i class="fa-solid fa-pen-to-square"></i> Edit</a></li>
                              </ul>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>ELV00213255</td>
                          <td>5000</td>
                          <td>4000</td>
                          <td>1000</td>
                          <td>Godigit</td>
                          <td>February</td>
                          <td>Vinod Kumar <span class="text-gray">(012456)</span></td>
                          <td>
                            <div class="dropdown">
                              <img src="dist/img/svg/menu-dot-vr.svg" alt="" class="table-doticon" data-toggle="dropdown" aria-expanded="false">
                              <ul class="dropdown-menu table-dropdown-menu">
                                <li><a class="dropdown-item" href="#"><i class="fa-solid fa-eye"></i> View</a></li>
                                <li><a class="dropdown-item" href="#"><i class="fa-solid fa-pen-to-square"></i> Edit</a></li>
                              </ul>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>ELV00213255</td>
                          <td>5000</td>
                          <td>4000</td>
                          <td>1000</td>
                          <td>Godigit</td>
                          <td>February</td>
                          <td>Vinod Kumar <span class="text-gray">(012456)</span></td>
                          <td>
                            <div class="dropdown">
                              <img src="dist/img/svg/menu-dot-vr.svg" alt="" class="table-doticon" data-toggle="dropdown" aria-expanded="false">
                              <ul class="dropdown-menu table-dropdown-menu">
                                <li><a class="dropdown-item" href="#"><i class="fa-solid fa-eye"></i> View</a></li>
                                <li><a class="dropdown-item" href="#"><i class="fa-solid fa-pen-to-square"></i> Edit</a></li>
                              </ul>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
              </div>
            </div>
          </div>
        </div>

        </div>  
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  

  <!-- Main Footer -->
  {% include 'footer.html' %}
</div>
<!-- ./wrapper -->

<!-- Payment overdue modal-->
<div class="modal fade" id="payment-overdue-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" >&times;</button>
        <h2 class="form-title font-weight-bold">Payment Overdue</h2>
        <p class="pb-2">Your payment is overdue. Please clear your due to add new members.</p>
        <div class="d-flex justify-content-end">
          <a href="/checkout" class="dashboard-addbtn">Pay Now</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% include 'footer-script.html' %}

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script> -->
<script src="http://retention.netcrm.in/js/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0/dist/chartjs-plugin-datalabels.min.js"></script>
{{ consolidated_month_labels|json_script:"monthLabels" }}
{{ consolidated_month_counts|json_script:"motorData" }}

<script type="text/javascript">
  Chart.register(ChartDataLabels);
  const monthLabels = JSON.parse(document.getElementById('monthLabels').textContent);
  const motorData    = JSON.parse(document.getElementById('motorData').textContent);

  new Chart(document.getElementById("consolidated_bar_chart"), {
    type: 'bar',
    data: {
      labels: monthLabels,
      datasets: [
        {
          type: 'bar',
          label: 'Motor',
          data: motorData,
          backgroundColor: "#ff751d",
          borderColor: '#ff751d'
        },
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          labels: {
            padding: 20,
            font: { size: 11 }
          },
          position: 'top'
        },
        datalabels: {
          anchor: 'middle',
          align: 'middle',
          color: '#000',
          font: { weight: 'bold' },
          formatter: function(value) {
            return value;
          }
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          title: {
            display: true,
            text: 'Policy Count'
          }
        },
        x: {
          title: {
            display: true,
            text: 'Month'
          }
        }
      }
    }
  });
</script>

{{ insurer_motor_counts|json_script:"insurerMotorCounts" }}
{{ insurer_provider_labels|json_script:"insurerProviderLabels" }}

<script type="text/javascript">
console.log("Counts:", insurerMotorCounts);
  console.log("Provider:", insurerProviderLabels);
</script>
<script type="text/javascript">
  Chart.register(ChartDataLabels);

  const insurerMotorCounts = JSON.parse(document.getElementById('insurerMotorCounts').textContent);
  const insurerProviderLabels    = JSON.parse(document.getElementById('insurerProviderLabels').textContent);
  
    new Chart("insurer_bar_chart", {
    data: {
            datasets: [{
                type: 'bar',
                label: 'Motor',
                data: insurerMotorCounts,
                backgroundColor: "#4593dd",
                fill: false,
                borderColor: '#4593dd'
            }],
            labels: insurerProviderLabels,
        },
        options: {
            responsive: true,
            
            plugins: {
                legend: {
                    labels: {
                      padding: 20, // Add space between graph and labels
                      font: {
                        size: 11, // Adjust font size for better readability
                      },
                    },
                    position: 'top', // Position the legend at the top
                  },
                datalabels: {
                    anchor: 'middle',
                    align: 'middle',
                    color: '#000',
                    font: {
                        weight: 'bold',
                    },
                    formatter: function(value, context) {
                        return value;
                    }
                }
            }
        }
    });

   new Chart("product_wise_bar_chart", {
    data: {
            datasets: [{
                type: 'bar',
                label: 'Motor',
                data: [50],
                backgroundColor: "#4593dd",
                fill: false,
                borderColor: '#4593dd'
            }, {
                type: 'bar',
                label: 'Health',
                data: [40],
                backgroundColor: "#85c7de",
                borderColor: '#85c7de'
            }, {
                type: 'bar',
                label: 'Term',
                data: [70],
                backgroundColor: "#f1ae83",
                borderColor: '#f1ae83'
            }],
            labels: ['Policy Due'],
        },
        options: {
            responsive: true,
            indexAxis: 'y',
            plugins: {
                legend: {
                    labels: {
                      padding: 20, // Add space between graph and labels
                      font: {
                        size: 11, // Adjust font size for better readability
                      },
                    },
                    position: 'top', // Position the legend at the top
                  },
                datalabels: {
                    anchor: 'middle',
                    align: 'middle',
                    color: '#000',
                    font: {
                        weight: 'bold',
                    },
                    formatter: function(value, context) {
                        return value;
                    }
                }
            }
        }
    });

   new Chart("product_commercial_bar_chart", {
    data: {
            datasets: [{
                type: 'bar',
                label: 'Motor',
                data: [50],
                backgroundColor: "#4593dd",
                fill: false,
                borderColor: '#4593dd'
            }, {
                type: 'bar',
                label: 'Health',
                data: [40],
                backgroundColor: "#85c7de",
                borderColor: '#85c7de'
            }, {
                type: 'bar',
                label: 'Term',
                data: [70],
                backgroundColor: "#f1ae83",
                borderColor: '#f1ae83'
            }],
            labels: ['Policy Due'],
        },
        options: {
            responsive: true,
            indexAxis: 'y',
            plugins: {
                legend: {
                    labels: {
                      padding: 20, // Add space between graph and labels
                      font: {
                        size: 11, // Adjust font size for better readability
                      },
                    },
                    position: 'top', // Position the legend at the top
                  },
                datalabels: {
                    anchor: 'middle',
                    align: 'middle',
                    color: '#000',
                    font: {
                        weight: 'bold',
                    },
                    formatter: function(value, context) {
                        return value;
                    }
                }
            }
        }
    });

   new Chart("referal_bar_chart", {
    data: {
            datasets: [{
                type: 'bar',
                label: 'Motor',
                data: [50, 12, 60, 90],
                backgroundColor: "#4593dd",
                fill: false,
                borderColor: '#4593dd'
            }, {
                type: 'bar',
                label: 'Health',
                data: [40, 18, 70, 50],
                backgroundColor: "#85c7de",
                borderColor: '#85c7de'
            }, {
                type: 'bar',
                label: 'Term',
                data: [15, 70, 110, 60],
                backgroundColor: "#f1ae83",
                borderColor: '#f1ae83'
            }],
            labels: ['Vinod-REF1201', 'Ankit-REF1202', 'Sumit-REF1203', 'Kunal-REF1204'],
        },
        options: {
            responsive: true,
            indexAxis: 'y',
            plugins: {
                legend: {
                    labels: {
                      padding: 20, // Add space between graph and labels
                      font: {
                        size: 11, // Adjust font size for better readability
                      },
                    },
                    position: 'top', // Position the legend at the top
                  },
                datalabels: {
                    anchor: 'middle',
                    align: 'middle',
                    color: '#000',
                    font: {
                        weight: 'bold',
                    },
                    formatter: function(value, context) {
                        return value;
                    }
                }
            }
        }
    });
   
   new Chart("partner_bar_chart", {
    data: {
            datasets: [{
                type: 'bar',
                label: 'Motor',
                data: [50],
                backgroundColor: "#4593dd",
                fill: false,
                borderColor: '#4593dd'
            }, {
                type: 'bar',
                label: 'Health',
                data: [40],
                backgroundColor: "#85c7de",
                borderColor: '#85c7de'
            }, {
                type: 'bar',
                label: 'Term',
                data: [15],
                backgroundColor: "#f1ae83",
                borderColor: '#f1ae83'
            }],
            labels: ['POS'],
        },
        options: {
            responsive: true,
            indexAxis: 'y',
            plugins: {
                legend: {
                    labels: {
                      padding: 20, // Add space between graph and labels
                      font: {
                        size: 11, // Adjust font size for better readability
                      },
                    },
                    position: 'top', // Position the legend at the top
                  },
                datalabels: {
                    anchor: 'middle',
                    align: 'middle',
                    color: '#000',
                    font: {
                        weight: 'bold',
                    },
                    formatter: function(value, context) {
                        return value;
                    }
                }
            }
        }
    });
</script>

</body>

{% endblock %}
