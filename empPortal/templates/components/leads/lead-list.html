{% load static %}
  <!-- Bootstrap Icons CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<div class="tab-content" id="nav-tabContent">
  <div class="table-responsive">
   
    <table class="table table-design table-trlink">
      <thead class="table-thead-bg-light table-header-fix">
        <tr>
          <th width="10">
            <input type="checkbox" id="checkall" class="table-chk">
            <label for="checkall"></label>
          </th>
          <th>Lead Info</th>
          <th>Customer Info</th>
          <th>Project Name</th>
          <th>Policy Info</th>
          <th>Status</th>
          <th>Allocated</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for lead in page_obj %}
          <tr>
            <td>
              <input type="checkbox" id="check{{ lead.id }}" class="table-chk">
              <label for="check{{ lead.id }}"></label>
            </td>
            
              <!-- Lead ID + Date -->
          <td>
            <span class="badge bg-secondary">{{ lead.lead_id }}</span><br>
            <small class="text-muted">
              {{ lead.created_at|date:"d M Y h:i A" }}
            </small>
          </td>
             <!-- Customer Info -->
          <td>
            <strong>Name:</strong> {{ lead.name_as_per_pan }}<br>
            <strong>Mobile:</strong> {{ lead.mobile_number }}<br>
            <strong>Email:</strong> {{ lead.email_address }}<br>
          </td>
            <!-- Project Name -->
          <td class="text-center">
            {{ lead.project_name|default:"-" }}
          </td>
          <td>
            <strong>Type:</strong> {{ lead.lead_type|default:"-" }}<br>
            <strong>Company:</strong> {{ lead.insurance_company|default:"-" }}
          </td>
            <!-- Status -->
          <td class="text-center">
            <span class="badge bg-light text-dark">
              {{ lead.status|default:"-" }}
            </span>
          </td>

             <!-- Allocation -->
          <td class="text-center">
            {{ lead.sales_manager|default:"Un-Allocated" }}
          </td>
          <!--Action-->
          <td> 
            <a href="#" class="btn btn-sm btn-info" title="View">
              <i class="bi bi-eye"></i>
            </a>
            <a href="#" class="btn btn-sm btn-success" title="Assign">
              <i class="bi bi-person-plus"></i>
            </a>
            <a href="{% url 'leads-mgt-edit' lead_id=lead.id %}" class="btn btn-sm btn-warning" title="Edit">
              <i class="bi bi-pencil-square"></i>
            </a>
          </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="11" class="text-center">No leads found</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
